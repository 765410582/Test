!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.cncharRandom=r():n.cncharRandom=r()}(this,(function(){return function(n){var r={};function t(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,r){if(1&r&&(n=t(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var o in n)t.d(e,o,function(r){return n[r]}.bind(null,o));return e},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=0)}([function(n,r,t){"use strict";t.r(r);function e(n,r){if(void 0===r&&(r=1),!n||0===n.length||0===r)return[];if(r>=n.length)return function(n){var r,t,e=n.length;for(;e;)t=Math.floor(Math.random()*e--),r=n[e],n[e]=n[t],n[t]=r;return n}(Object.assign([],n));for(var t=[],e=n.length,i=[];i.length<r;){var u=o(0,e-1);i.includes(u)||(i.push(u),t.push(n[u]))}return t}function o(n,r){return n+Math.round(Math.random()*(r-n))}var i,u={};function a(){return u.cnchar}function l(n){return u[n]?u[n]:u.cnchar&&u.cnchar[n]||null}var f=[],d=[];var c=function(){for(var n=0,r=0,t=arguments.length;r<t;r++)n+=arguments[r].length;var e=Array(n),o=0;for(r=0;r<t;r++)for(var i=arguments[r],u=0,a=i.length;u<a;u++,o++)e[o]=i[u];return e};function v(n){var r={};for(var t in n)r[n[t]]=t;return r}var s={use:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach((function(n){u[n.pluginName]||(u[n.pluginName]=n)}))},spell:function(n){var r=void 0===n?{}:n,t=r.number,u=void 0===t?1:t,l=r.tone,f=void 0!==l&&l,d=r.flat,c=void 0!==d&&d,v=a();if(!v)return console.warn("cnchar is not init"),[];var s=e(Object.keys(i),u);return f?s.map((function(n){var r=i[n].tones,t=r[o(0,r.length)];return c?""+n+t:v._.setTone(n,i[n].toneIndex,t)})):s},word:function(n){var r=void 0===n?{}:n,t=r.number,o=void 0===t?1:t,i=r.stroke,u=r.trad,c=void 0!==u&&u,v=a();if(!v)return console.warn("cnchar is not init"),"";var s,p,h=null,m=null;if(c){var g=l("trad");g&&g.dict&&(m=g.dict.count,0===d.length&&(d=Object.values(m).join("").split("")),h=d)}return m||(m=v.dict.stroke),h||(0===f.length&&(f=Object.values(v.dict.stroke).join("").split("")),h=f),"number"!=typeof i?e(h,o).join(""):(s=m[i],void 0===(p=o)&&(p=1),s?e(s.split(""),p).join(""):"")},idiom:function(n){var r,t=void 0===n?{}:n,o=t.number,i=void 0===o?1:o,u=t.query,a=l("idiom");if(!a)return console.warn("idiom plugin is not installed"),[];var f=null;return u&&(f=a(u)),f||(f=null===(r=a.dict)||void 0===r?void 0:r.idiom),e(f,i)},xhy:function(n){var r,t=void 0===n?{}:n,o=t.number,i=void 0===o?1:o,u=t.pattern,a=l("xhy");if(!a)return console.warn("xhy plugin is not installed"),[];if(u&&u.length>0){var f=u.shift();return e(a.apply(void 0,c([f],u)),i)}return e(null===(r=a.dict)||void 0===r?void 0:r.array,i).map((function(n){return n[0]+"-"+n[1]}))},words:function(n){var r,t=void 0===n?{}:n,o=t.number,i=void 0===o?1:o,u=t.length,a=t.match,f=l("words");if(!f)return console.warn("words plugin is not installed"),[];var d="";a&&(d=f(a).join(" "))&&(d=" "+d+" "),d||(d=null===(r=f.dict)||void 0===r?void 0:r.words);var c=d.match(new RegExp(" .{"+(u||"2,3")+"} ","g"));return c?e(c,i).map((function(n){return n.trim()})):[]},info:function(n){var r,t,o,i=void 0===n?{}:n,u=i.number,a=void 0===u?1:u,f=i.fiveElement,d=i.method,c=l("info");if(!c)return console.warn("info plugin is not installed"),"";if(!f&&!d)return console.warn("randomWithInfo: fiveElement or method is required"),"";var s=null===(r=c.dict)||void 0===r?void 0:r.info,p=v(null===(t=c.dict)||void 0===t?void 0:t.fiveElementMap),h=v(null===(o=c.dict)||void 0===o?void 0:o.methodMap);f&&(f=p[f]),d&&(d=h[d]);var m=[];if(f)for(var g in s){(b=s[g])[1]===f&&m.push(g)}else if(d)for(var g in s){(b=s[g])[0]===d&&m.push(g)}else if(f&&d)for(var g in s){var b;(b=s[g])[0]===d&&b[1]===f&&m.push(g)}return e(m,a).join("")}},p=Object.assign(s,{pluginName:"random",install:function(n){!function(n){u.cnchar=n}(n),function(n){var r=[0,1,2,3,4],t={},e=function(e){var o=n[e],i=parseInt(o[0]);o=o.substring(2);var u=[];r.forEach((function(n){-1===o.indexOf(""+n)&&-1===o.indexOf(""+(n+5))||u.push(n)})),t[e]={toneIndex:i,tones:u}};for(var o in n)e(o);i=t}(n.dict.spell)}});"object"==typeof window&&(window.CncharRandom=p,window.CnChar&&window.CnChar.use(p));r.default=p}]).default}));